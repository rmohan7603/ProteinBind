/* auto-generated by NAPI-RS */
/* eslint-disable */
export class NapiClient {
  accountAddress: string
  inboxId(): string
  isRegistered(): boolean
  installationId(): string
  canMessage(accountAddresses: Array<string>): Promise<Record<string, boolean>>
  addEcdsaSignature(signatureBytes: Uint8Array): void
  addScwSignature(signatureBytes: Uint8Array, chainId: string, accountAddress: string, chainRpcUrl: string, blockNumber: bigint): void
  registerIdentity(): Promise<void>
  signatureText(): string | null
  conversations(): NapiConversations
  requestHistorySync(): Promise<void>
  findInboxIdByAddress(address: string): Promise<string | null>
}

export class NapiConversations {
  createGroup(accountAddresses: Array<string>, options?: NapiCreateGroupOptions | undefined | null): Promise<NapiGroup>
  findGroupById(groupId: string): NapiGroup
  findMessageById(messageId: string): NapiMessage
  processStreamedWelcomeMessage(envelopeBytes: Uint8Array): Promise<NapiGroup>
  sync(): Promise<void>
  list(opts?: NapiListConversationsOptions | undefined | null): Promise<Array<NapiGroup>>
  stream(callback: (err: null | Error, result: NapiGroup) => void): NapiStreamCloser
  streamAllMessages(callback: (err: null | Error, result: NapiMessage) => void): NapiStreamCloser
}

export class NapiGroup {
  id(): string
  send(encodedContent: NapiEncodedContent): Promise<string>
  /** send a message without immediately publishing to the delivery service. */
  sendOptimistic(encodedContent: NapiEncodedContent): Array<number>
  /** Publish all unpublished messages */
  publishMessages(): Promise<void>
  sync(): Promise<void>
  findMessages(opts?: NapiListMessagesOptions | undefined | null): Array<NapiMessage>
  processStreamedGroupMessage(envelopeBytes: Uint8Array): Promise<NapiMessage>
  listMembers(): Array<NapiGroupMember>
  adminList(): Array<string>
  superAdminList(): Array<string>
  isAdmin(inboxId: string): boolean
  isSuperAdmin(inboxId: string): boolean
  addMembers(accountAddresses: Array<string>): Promise<void>
  addAdmin(inboxId: string): Promise<void>
  removeAdmin(inboxId: string): Promise<void>
  addSuperAdmin(inboxId: string): Promise<void>
  removeSuperAdmin(inboxId: string): Promise<void>
  groupPermissions(): NapiGroupPermissions
  addMembersByInboxId(inboxIds: Array<string>): Promise<void>
  removeMembers(accountAddresses: Array<string>): Promise<void>
  removeMembersByInboxId(inboxIds: Array<string>): Promise<void>
  updateGroupName(groupName: string): Promise<void>
  groupName(): string
  updateGroupImageUrlSquare(groupImageUrlSquare: string): Promise<void>
  groupImageUrlSquare(): string
  updateGroupDescription(groupDescription: string): Promise<void>
  groupDescription(): string
  updateGroupPinnedFrameUrl(pinnedFrameUrl: string): Promise<void>
  groupPinnedFrameUrl(): string
  stream(callback: (err: null | Error, result: NapiMessage) => void): NapiStreamCloser
  createdAtNs(): number
  isActive(): boolean
  addedByInboxId(): string
  groupMetadata(): NapiGroupMetadata
}

export class NapiGroupMember {
  inboxId: string
  accountAddresses: Array<string>
  installationIds: Array<string>
  permissionLevel: NapiPermissionLevel
}

export class NapiGroupMetadata {
  creatorInboxId(): string
  conversationType(): string
}

export class NapiGroupPermissions {
  policyType(): NapiGroupPermissionsOptions
  policySet(): NapiPermissionPolicySet
}

export class NapiMessage {
  id: string
  sentAtNs: number
  convoId: string
  senderInboxId: string
  content: NapiEncodedContent
  kind: NapiGroupMessageKind
  deliveryStatus: NapiDeliveryStatus
}

export class NapiStreamCloser {
  end(): void
  isClosed(): boolean
}

export function createClient(host: string, isSecure: boolean, dbPath: string, inboxId: string, accountAddress: string, encryptionKey?: Uint8Array | undefined | null, historySyncUrl?: string | undefined | null): Promise<NapiClient>

export function generateInboxId(accountAddress: string): string

export function getInboxIdForAddress(host: string, isSecure: boolean, accountAddress: string): Promise<string | null>

export interface NapiContentTypeId {
  authorityId: string
  typeId: string
  versionMajor: number
  versionMinor: number
}

export interface NapiCreateGroupOptions {
  permissions?: NapiGroupPermissionsOptions
  groupName?: string
  groupImageUrlSquare?: string
  groupDescription?: string
  groupPinnedFrameUrl?: string
}

export const enum NapiDeliveryStatus {
  Unpublished = 0,
  Published = 1,
  Failed = 2
}

export interface NapiEncodedContent {
  type?: NapiContentTypeId
  parameters: Record<string, string>
  fallback?: string
  compression?: number
  content: Uint8Array
}

export const enum NapiGroupMessageKind {
  Application = 0,
  MembershipChange = 1
}

export const enum NapiGroupPermissionsOptions {
  AllMembers = 0,
  AdminOnly = 1,
  CustomPolicy = 2
}

export interface NapiListConversationsOptions {
  createdAfterNs?: number
  createdBeforeNs?: number
  limit?: number
}

export interface NapiListMessagesOptions {
  sentBeforeNs?: number
  sentAfterNs?: number
  limit?: number
  deliveryStatus?: NapiDeliveryStatus
}

export const enum NapiPermissionLevel {
  Member = 0,
  Admin = 1,
  SuperAdmin = 2
}

export const enum NapiPermissionPolicy {
  Allow = 0,
  Deny = 1,
  Admin = 2,
  SuperAdmin = 3,
  DoesNotExist = 4,
  Other = 5
}

export interface NapiPermissionPolicySet {
  addMemberPolicy: NapiPermissionPolicy
  removeMemberPolicy: NapiPermissionPolicy
  addAdminPolicy: NapiPermissionPolicy
  removeAdminPolicy: NapiPermissionPolicy
  updateGroupNamePolicy: NapiPermissionPolicy
  updateGroupDescriptionPolicy: NapiPermissionPolicy
  updateGroupImageUrlSquarePolicy: NapiPermissionPolicy
  updateGroupPinnedFrameUrlPolicy: NapiPermissionPolicy
}

export const enum NapiPermissionUpdateType {
  AddMember = 0,
  RemoveMember = 1,
  AddAdmin = 2,
  RemoveAdmin = 3,
  UpdateMetadata = 4
}

